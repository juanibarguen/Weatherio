<section class="container">

<div class="nav">
    <div class="nav-logo">
        <h1>Weatherio</h1>
    </div>
    <div class="nav-input-search">
        <div class="icon-search">
            <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
        </div>
        <div class="input-search">
        <input type="text" name="cityName" id="cityName" placeholder="Search city.." [(ngModel)]="city" (keyup.enter)="executeFunctions()" autocomplete="off">
        <ul>
            <li>asd</li>
            <li>add</li>
            <li></li>
        </ul>
    </div>
    </div>
    <div class="nav-current-location">

        <button type="button"><span class="material-symbols-outlined">my_location</span><p>Current Location</p></button>
        
        
    </div>
    </div>

  <section class="container-weather">

  <div class="container-weather-left">
    <div class="data-city">
        <p class="data-city-title">Now</p>
        <div class="current-temp">
            <p class="current-temp-title">{{weatherData?.main?.temp}}°C</p>
        </div>
        <p class="current-temp-description">{{description}}</p>
        <div class="data-day">
            <span class="material-symbols-outlined">calendar_month</span> 
            <p>{{ formattedDateEnUs }}</p>
        </div>
        <div class="data-location">
            <span class="material-symbols-outlined">pin_drop</span> 
            <p>{{weatherData.name}}, {{weatherData?.sys?.country}}</p>
        </div>
    </div>
    <p class="five-days-forecast-title">5 Day Forecast</p>
    <div class="five-days-forecast">
        <div class="five-days-forecast-data">

            <div class="next-day" *ngFor="let forecastItem of forecastData; let i = index;" >
                <div class="next-day-forecast">
                    <span class="material-symbols-outlined">cloud</span>
                    <p>{{ (convertToCelsius(forecastItem.temp)) }}°C</p>
                </div>

                <div class="next-day-date">
                    <p>{{ getNextDate(i) | date:'d MMM' }}</p>
                </div>

                <div class="next-day-name">
                    <p>{{ getNextDate(i) | date:'EEEE' }}</p>
                </div>
            </div>

        </div>

    </div>
</div>

  <div class="container-weather-right">

    <div class="container-current-weather">
        <div class="highlights">
            <p class="highlights-title">Todays Highlights</p>
            <div class="quality">
               <div class="quality-text">
                   <p>Air Quality Index</p>
                   <p class="quality-tex-value" [ngClass]="indexClass">{{indexValue}}</p>
               </div>
                <div class="wind-data">
                    <div class="wind-icon"><span class="material-symbols-outlined">
                        air
                        </span></div>
                    <div class="wind-current" *ngIf="datosContaminacionAire">
                        <div class="pm">
                            <h3>PM25</h3>
                            <p class="wind-current-value">{{ datosContaminacionAire.list[0].components.pm2_5 }}</p>
                        </div>
                        <div class="so">
                            <h3>SO2</h3>
                            <p class="wind-current-value">{{ datosContaminacionAire.list[0].components.so2 }}</p>
                        </div>
                        <div class="no">
                            <h3>NO2</h3>
                            <p class="wind-current-value">{{ datosContaminacionAire.list[0].components.no2 }}</p>
                        </div>
                        <div class="03">
                            <h3>O 3</h3>
                            <p class="wind-current-value"> {{ datosContaminacionAire.list[0].components.o3 }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="more-data">
                <div class="box">
                    <p>Humidity</p>
                    <div class="data-box">
                        <div class="box-icon"><span class="material-symbols-outlined">
                            humidity_percentage
                            </span></div>
                        <div class="box-current">{{weatherData?.main?.humidity}}%</div>
                    </div>
                </div>
                <div class="box">
                    <p>Pressure</p>
                    <div class="data-box">
                        <div class="box-icon"><span class="material-symbols-outlined">
                            water
                            </span></div>
                        <div class="box-current">{{weatherData?.main?.pressure}}hPa</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hourly-forecast">
            <div class="sunrise-and-sunset">
                <p class="sunrise-and-sunset-title">Sunrise and sunset</p>
                <div class="sas-current">
                    <div class="sunrise">
                        <div class="sunrise-icon"><span class="material-symbols-outlined">
                            light_mode
                            </span></div>
                        <div class="sunrise-data">
                            <p class="sunrise-data-title">Sunrise</p>
                            <p class="sunrise-data-current">{{ sunriseTime }} AM</p>
                        </div>
                    </div>
                    <div class="sunset">
                        <div class="sunset-icon"><span class="material-symbols-outlined">
                            dark_mode
                            </span></div>
                        <div class="sunset-data">
                            <p class="sunset-data-title">Sunset</p>
                            <p class="sunset-data-current">{{sunsetTime}} PM</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="more-data forecast">
                <div class="box">
                    <p>Visibility</p>
                    <div class="data-box">
                        <div class="box-icon"><span class="material-symbols-outlined">
                            visibility
                            </span></div>
                        <div class="box-current">{{metersToKilometers(weatherData.visibility)}}km</div>
                    </div>
                </div>
                <div class="box">
                    <p>Feels Like</p>
                    <div class="data-box">
                        <div class="box-icon"><span class="material-symbols-outlined">
                            thermostat
                            </span></div>
                        <div class="box-current">{{convertToCelsius(weatherData?.main?.feels_like)}}°c</div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    
    <h3 class="today-title">Today at: </h3>
    <div class="forecast-today">
        <div class="forecast-next-hour" *ngFor="let forecastDataHour of forecastDataHours">
            <p>{{forecastDataHour.time}}</p>
            <span class="material-symbols-outlined">rainy</span>
            <p>{{convertToCelsius(forecastDataHour.temp)}}°C</p>
        </div>

    </div>
</div>

 </section>
</section>

<!-- <form>
    <label for="cityName">Ingresar nombre de la ciudad:</label>
    <input type="text" name="cityName" id="cityName" placeholder="Enter city" [(ngModel)]="city">
    <button type="button" (click)="getWeather()">Obtener clima</button>
  </form>
  
  <div *ngIf="weatherData">
    <p *ngIf="weatherData.name">Nombre: {{weatherData.name}}</p>
    <p *ngIf="weatherData.main && weatherData.main.temp">Temperatura: {{weatherData.main.temp}}</p>
    <p *ngIf="weatherData.main && weatherData.main.temp_min">Temperatura Mínima: {{weatherData.main.temp_min}}</p>
    <p *ngIf="weatherData.main && weatherData.main.temp_max">Temperatura Máxima: {{weatherData.main.temp_max}}</p>
  </div> -->    

