<section class="container">

<div class="nav">
    <div class="nav-logo">
        <h1>Weatherio</h1>
    </div>
    <div class="nav-input-search">
        <div class="icon-search">
            <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
        </div>

        <input type="text" name="cityName" id="cityName" placeholder="Search city.." [(ngModel)]="city" (keyup.enter)="executeFunctions()" autocomplete="off">
    </div>
    <div class="nav-current-location">
        <button type="button">Current Location</button>
    </div>
    </div>

  <section class="container-weather">

  <div class="container-weather-left">
    <div class="data-city">
        <p class="data-city-title">Now</p>
        <div class="current-temp">
            <p class="current-temp-title">{{weatherData?.main?.temp}}°C</p>
        </div>
        <p class="current-temp-description">Broken Clouds</p>
        <div class="data-day">
            <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"/></svg>
            <p>{{ formattedDateEnUs }}</p>
        </div>
        <div class="data-location">
            <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
            <p>{{weatherData.name}}, {{weatherData?.sys?.country}}</p>
        </div>
    </div>
    <p class="five-days-forecast-title">5 Day Forecast</p>
    <div class="five-days-forecast">
        <div class="five-days-forecast-data">

            <div class="next-day" *ngFor="let forecastItem of forecastData; let i = index;" >
                <div class="next-day-forecast">
                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M0 224c0 53 43 96 96 96h47.2L290 202.5c17.6-14.1 42.6-14 60.2 .2s22.8 38.6 12.8 58.8L333.7 320H352h64c53 0 96-43 96-96s-43-96-96-96c-.5 0-1.1 0-1.6 0c1.1-5.2 1.6-10.5 1.6-16c0-44.2-35.8-80-80-80c-24.3 0-46.1 10.9-60.8 28C256.5 24.3 219.1 0 176 0C114.1 0 64 50.1 64 112c0 7.1 .7 14.1 1.9 20.8C27.6 145.4 0 181.5 0 224zm330.1 3.6c-5.8-4.7-14.2-4.7-20.1-.1l-160 128c-5.3 4.2-7.4 11.4-5.1 17.8s8.3 10.7 15.1 10.7h70.1L177.7 488.8c-3.4 6.7-1.6 14.9 4.3 19.6s14.2 4.7 20.1 .1l160-128c5.3-4.2 7.4-11.4 5.1-17.8s-8.3-10.7-15.1-10.7H281.9l52.4-104.8c3.4-6.7 1.6-14.9-4.2-19.6z"/></svg>
                    <p>{{ (convertToCelsius(forecastItem.temp)) }}°C</p>
                </div>

                <div class="next-day-date">
                    <p>{{ getNextDate(i) | date:'d MMM' }}</p>
                </div>

                <div class="next-day-name">
                    <p>{{ getNextDate(i) | date:'EEEE' }}</p>
                </div>
            </div>

        </div>

    </div>
</div>

  <div class="container-weather-right">

    <div class="container-current-weather">
        <div class="highlights">
            <p class="highlights-title">Todays Highlights</p>
            <div class="quality">
               <div class="quality-text">
                   <p>Air Quality Index</p>
                   <button>Good</button>
               </div>
                <div class="wind-data">
                    <div class="wind-icon"><span class="material-symbols-outlined">
                        air
                        </span></div>
                    <div class="wind-current">
                        <div class="pm">
                            <h3>PM25</h3>
                            <p class="wind-current-value">177</p>
                        </div>
                        <div class="so">
                            <h3>SO2</h3>
                            <p class="wind-current-value">29.0</p>
                        </div>
                        <div class="no">
                            <h3>NO2</h3>
                            <p class="wind-current-value">43.2</p>
                        </div>
                        <div class="03">
                            <h3>O 3</h3>
                            <p class="wind-current-value">0.150</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="more-data">
                <div class="box">
                    <p>Humidity</p>
                    <div class="data-box">
                        <div class="box-icon"><span class="material-symbols-outlined">
                            humidity_percentage
                            </span></div>
                        <div class="box-current">{{weatherData?.main?.humidity}}%</div>
                    </div>
                </div>
                <div class="box">
                    <p>Pressure</p>
                    <div class="data-box">
                        <div class="box-icon"><span class="material-symbols-outlined">
                            water
                            </span></div>
                        <div class="box-current">{{weatherData?.main?.pressure}}hPa</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hourly-forecast">
            <div class="sunrise-and-sunset">
                <p class="sunrise-and-sunset-title">Sunrise and sunset</p>
                <div class="sas-current">
                    <div class="sunrise">
                        <div class="sunrise-icon"><span class="material-symbols-outlined">
                            light_mode
                            </span></div>
                        <div class="sunrise-data">
                            <p class="sunrise-data-title">Sunrise</p>
                            <p class="sunrise-data-current">6:46 AM</p>
                        </div>
                    </div>
                    <div class="sunset">
                        <div class="sunset-icon"><span class="material-symbols-outlined">
                            dark_mode
                            </span></div>
                        <div class="sunset-data">
                            <p class="sunset-data-title">Sunset</p>
                            <p class="sunset-data-current">6:21 PM</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="more-data forecast">
                <div class="box">
                    <p>Visibility</p>
                    <div class="data-box">
                        <div class="box-icon"><span class="material-symbols-outlined">
                            visibility
                            </span></div>
                        <div class="box-current">{{metersToKilometers(weatherData.visibility)}}km</div>
                    </div>
                </div>
                <div class="box">
                    <p>Feels Like</p>
                    <div class="data-box">
                        <div class="box-icon"><span class="material-symbols-outlined">
                            thermostat
                            </span></div>
                        <div class="box-current">{{weatherData?.main?.feels_like}}°c</div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    
    <h3 class="today-title">Today at: </h3>
    <div class="forecast-today">
        <div class="forecast-next-hour" *ngFor="let forecastDataHour of forecastDataHours">
            <p>{{forecastDataHour.time}}</p>
            <span class="material-symbols-outlined">rainy</span>
            <p>{{convertToCelsius(forecastDataHour.temp)}}°C</p>
        </div>

    </div>
</div>

 </section>
</section>

<!-- <form>
    <label for="cityName">Ingresar nombre de la ciudad:</label>
    <input type="text" name="cityName" id="cityName" placeholder="Enter city" [(ngModel)]="city">
    <button type="button" (click)="getWeather()">Obtener clima</button>
  </form>
  
  <div *ngIf="weatherData">
    <p *ngIf="weatherData.name">Nombre: {{weatherData.name}}</p>
    <p *ngIf="weatherData.main && weatherData.main.temp">Temperatura: {{weatherData.main.temp}}</p>
    <p *ngIf="weatherData.main && weatherData.main.temp_min">Temperatura Mínima: {{weatherData.main.temp_min}}</p>
    <p *ngIf="weatherData.main && weatherData.main.temp_max">Temperatura Máxima: {{weatherData.main.temp_max}}</p>
  </div> -->    

